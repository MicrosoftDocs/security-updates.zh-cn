---
TOCTitle: 'MS12-007'
Title: 'Microsoft 安全公告 MS12-007 - 重要'
ms:assetid: 'ms12-007'
ms:contentKeyID: 61238349
ms:mtpsurl: 'https://technet.microsoft.com/zh-CN/library/ms12-007(v=Security.10)'
---

Microsoft 安全公告 MS12-007 - 重要
==================================

AntiXSS 库中的漏洞可能允许信息泄露 (2607664)
--------------------------------------------

发布时间: 2012年1月10日 | 更新时间: 2012年1月16日

**版本:** 2.1

### 一般信息

#### 摘要

此安全更新可解决 Microsoft 防跨站点脚本 (AntiXSS) 库中一个秘密报告的漏洞。如果攻击者利用 AntiXSS 库 的清理功能向某一网站传递恶意脚本，该漏洞可能允许信息泄露。披露该信息的后果取决于信息本身的性质。请注意，攻击者无法利用此漏洞来执行代码或直接提升他们的用户权限，但可用于生成将试图进一步危及受影响系统安全的信息。只有使用 AntiXSS 库的清理模块的站点才会受此漏洞影响。

对于 AntiXSS 库 V3.x 和 AntiXSS 库 V4.0，此安全更新的等级为“重要”。有关详细信息，请参阅本节中“**受影响和不受影响的软件**”小节。

此更新通过将 AntiXSS 库升级到不受漏洞影响的版本来解决此漏洞。有关漏洞的详细信息，请参阅下一节“**漏洞信息**”下面特定漏洞条目的常见问题 (FAQ) 小节。

**建议。** Microsoft 建议客户尽早应用此更新。

**已知问题。**[Microsoft 知识库文章 2607664](https://support.microsoft.com/kb/2607664) 介绍了客户在安装此安全更新时可能遇到的当前已知问题。本文还介绍了这些问题的建议解决办法。

#### 受影响和不受影响的软件

已对下列软件进行测试，以确定受到影响的版本。

**受影响的软件**  

| 软件                                                                                                                                                                      | 最大安全影响 | 综合严重等级 | 此更新替代的公告 |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------|--------------|------------------|
| [Microsoft 防跨站点脚本库 V3.x 和 Microsoft 防跨站点脚本库 V4.0](https://www.microsoft.com/download/details.aspx?familyid=b3ef05ce-70fe-4f25-9aee-cb7a42a53d11)<sup>[1]</sup><sup>[2]</sup> | 信息泄露     | 重要         | 无               |

<sup>[1]</sup>此下载将把 Microsoft 防跨站点脚本 (AntiXSS) 库升级到一个更新的、不受漏洞影响的版本。

<sup>[2]</sup>此更新只能从 Microsoft 下载中心下载。请参阅下一节“**与此安全更新相关的常见问题 (FAQ)**”。

与此安全更新相关的常见问题 (FAQ)
--------------------------------

**为什么在** **2012 年 1 月 11** **日重新发布此公告？**  
Microsoft 重新发布此公告是为了宣布原始升级包 AntiXSS 库 4.2 版已由 AntiXSS 库 4.2.1 版替代。新版本解决了导致原始升级包在某些情况下安装失败的命名问题。AntiXSS 库的所有用户将需要升级到 [AntiXSS 库 4.2.1 版](https://www.microsoft.com/download/details.aspx?familyid=b3ef05ce-70fe-4f25-9aee-cb7a42a53d11)以帮助确保他们免受本公告中所述的漏洞影响。

**我是使用** **AntiXSS** **库的开发人员。在我的系统上，我仅需要此更新吗？**  
否。使用 AntiXSS 库的开发人员应该安装此公告中描述的更新，然后还应将更新后的 AntiXSS 库部署到他们所有使用 AntiXSS 库的活跃网站。

**此** **更新是否包含任何与安全性相关的功能更改？**  
是。除了本公告“**漏洞信息**”部分列出的更改外，升级到更新版本的 AntiXSS 库 (AntiXSS 库 4.2.1 版) 也将更改 AntiXSS 库对级联样式表 (CSS) 处理方式的功能性。输入到清理工具的包含标签或属性等格式的 HTML 内容将被去除格式。对于格式标签，标签的内容将被留下。这种行为与对其他无效的标签所实施的行为一致。

**如何升级我的** **AntiXSS** **库的版本？**  
客户可以使用前面章节“**受影响和不受影响的软件**”的“受影响的软件”表中的下载链接，获取不受此漏洞影响的 Microsoft 防跨站点脚本库的更新版本 (AntiXSS 库 4.2.1 版)。

**为什么** **只在** **Microsoft 下载中心提供此升级？**  
Microsoft 即将把 AntiXSS 库的升级仅发布到 Microsoft 下载中心。因为开发人员只为使用 AntiXSS 库的活动网站部署更新后的库，其他分发方法（例如自动更新）不适合此类升级方案。

### **漏洞信息**  

严重等级和漏洞标识符
--------------------

以下严重等级假设漏洞的可能的最大影响。有关在此安全公告发布 30 天内漏洞利用的安全等级和安全影响的可能性的信息，请参阅 [1 月份公告摘要](https://technet.microsoft.com/security/bulletin/ms12-jan)中的利用指数。有关详细信息，请参阅 [Microsoft 利用指数](https://technet.microsoft.com/en-us/security/cc998259.aspx)。

<p> </p>
<table style="border:1px solid black;">
<caption>按受影响软件列出的漏洞严重等级和最大安全影响</caption>
<thead>
<tr class="header">
<th style="border:1px solid black;">受影响的软件</th>
<th style="border:1px solid black;">AntiXSS 库绕过漏洞 - CVE-2012-0007</th>
<th style="border:1px solid black;">综合严重等级</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">Microsoft 防跨站点脚本库 V3.x 和 Microsoft 防跨站点脚本库 V4.0</td>
<td style="border:1px solid black;"><strong>重要</strong><br />
信息泄露</td>
<td style="border:1px solid black;"><strong>重要</strong></td>
</tr>  
</tbody>  
</table>
  
AntiXSS 库绕过漏洞 - CVE-2012-0007  
----------------------------------
  
<span></span>  
当 Microsoft 防跨站点脚本 (AntiXSS) 库未正确清理特制的 HTML 时，即存在信息泄露漏洞。成功利用此漏洞的攻击者可以对使用 AntiXSS 库清理用户提供的 HTML 的网站执行跨站点脚本 (XSS) 攻击。这让攻击者可以通过某项清理功能传递恶意脚本，并暴露不应被披露的信息。披露该信息的后果取决于信息本身的性质。请注意，攻击者无法利用此漏洞来执行代码或直接提升他们的用户权限，但可用于生成将试图进一步危及受影响系统安全的信息。
  
要在“常见漏洞和披露”列表中以标准条目查看此漏洞，请参阅 [CVE-2012-0007](https://www.cve.mitre.org/cgi-bin/cvename.cgi?name=cve-2012-0007)。
  
#### AntiXSS 库绕过漏洞 (CVE-2012-0007) 的缓解因素
  
缓解是指一种设置、通用配置或者一般的最佳实践，它以默认状态存在，能够降低利用漏洞的严重性。以下缓解因素在您遇到的情形中可能会有所帮助：
  
-   只有使用 AntiXSS 库的清理模块的站点才会受此漏洞影响。
  
#### AntiXSS 库绕过漏洞 (CVE-2012-0007) 的变通办法
  
Microsoft 并未发现此漏洞的任何变通办法。
  
#### AntiXSS 库绕过漏洞 (CVE-2012-0007) 的常见问题
  
**此漏洞的影响范围有多大？**  
这是一个信息泄露漏洞。成功利用此漏洞的攻击者可以通过某项清理功能传递恶意脚本并暴露不应被披露的信息。请注意，攻击者无法利用此漏洞来执行代码或直接提升他们的用户权限，但可用于检索将试图进一步危及受影响系统安全的信息。
  
**造成此漏洞的原因是什么？**  
此漏洞是 Microsoft 防跨站点脚本 (AntiXSS) 库对某个经 CSS 转义后的字符进行了不正确评估造成的。
  
**什么是防跨站点脚本 (AntiXSS) 库？**  
Microsoft 防跨站点脚本 (AntiXSS) 库是为帮助开发人员防止他们的 ASP.NET 基于 Web 的应用程序受到跨站点脚本攻击而设计的编码库。它与大多数编码库不同，因为它使用白名单技术（有时被称为“包含的原则”）来提供防跨站点脚本攻击的保护。这种方法的工作方式是：首先定义一套有效的或被允许的字符，然后对这套字符之外的所有内容（无效字符或潜在攻击）进行编码。白名单方法提供了其他编码方案不具备的若干优势。
  
**攻击者可能利用此漏洞执行什么操作？**  
成功利用此漏洞的攻击者可以对使用 AntiXSS 库清理用户提供的 HTML 的网站执行跨站点脚本 (XSS) 攻击。然后，攻击者可以通过某项清理功能传递恶意脚本并暴露不应被披露的信息。披露该信息的后果取决于信息本身的性质。请注意，攻击者无法利用此漏洞来执行代码或直接提升他们的用户权限，但可用于检索将试图进一步危及受影响系统安全的信息。
  
**攻击者如何利用此** **漏洞？**  
为了利用此漏洞，攻击者可能将特制的 HTML 传送到使用 AntiXSS 库的清理模块的目标网站。当 AntiXSS 库未正确清理 HTML 时，包含在特制的 HTML 中的恶意脚本可以在受到影响的 Web 服务器上运行。
  
**受此漏洞威胁最大的系统有哪些？**  
使用 AntiXSS 库的 Web 服务器受此漏洞威胁。
  
**此更新有什么作用？**  
此更新通过将 AntiXSS 库升级到不受漏洞影响的版本来解决此漏洞。
  
**发布此安全公告时，此漏洞是否已公开披露？**  
否。Microsoft 通过协调漏洞披露渠道了解到有关此漏洞的信息。
  
**在发布此安全公告时，Microsoft 是否收到任何有关此漏洞已被利用的报告？**  
否。在最初发布此安全公告时，Microsoft 未收到任何表明此漏洞已公开用于攻击用户的信息。
  
### 其他信息
  
#### 鸣谢
  
Microsoft [感谢](https://go.microsoft.com/fwlink/?linkid=21127)下列人员或组织与我们一起致力于保护客户的利益：
  
-   [IBM Rational Application Security](https://blog.watchfire.com/) 的 Adi Cohen 报告了 AntiXSS 库绕过漏洞 (CVE-2012-0007)
  
#### Microsoft Active Protections Program (MAPP)
  
为改进客户的安全保护，Microsoft 在发布每月安全更新之前将向主要的安全软件供应商提供漏洞信息。然后，安全软件供应商可以使用该漏洞信息通过其安全软件或者设备向客户提供更新的保护，例如防病毒、基于网络的入侵检测系统或者基于主机的入侵防止系统。要确定是否可从安全软件供应商处得到活动保护，请访问计划合作伙伴（在 [Microsoft Active Protections Program (MAPP) 合作伙伴](https://go.microsoft.com/fwlink/?linkid=215201)中列出）提供的活动保护网站。
  
#### 支持
  
-   美国和加拿大的客户可以通过[安全支持](https://go.microsoft.com/fwlink/?linkid=21131)或 1-866-PCSAFETY 获得技术支持。与安全更新有关的电话支持服务是免费的。有关可用支持选项的详细信息，请参阅 [Microsoft 帮助和支持](https://support.microsoft.com/)网站。  
-   其他国家（或地区）的用户可从当地的 Microsoft 分公司获得支持。与安全更新有关的支持服务不收取任何费用。有关如何就支持问题与 Microsoft 取得联系方面的详细信息，请访问[国际支持网站](https://go.microsoft.com/fwlink/?linkid=21155)。
  
#### 免责声明
  
Microsoft 知识库中的信息“按原样”提供，没有任何形式的担保。Microsoft 不作任何明示或暗示保证，包括对适销性和针对特定目的的适用性的保证。Microsoft Corporation 或其供应商不对任何损害（包括直接的、间接的、偶然的、必然的损害，商业利润损失，或特殊损害）承担任何责任，即使 Microsoft Corporation 或其供应商事先已被告知有可能发生此类损害。有些州不允许排除或限制必然或偶然损害的赔偿责任，因此上述限制可能不适用。
  
#### 修订版本
  
-   V1.0（2012 年 1 月 10 日）： 已发布公告。  
-   V2.0（2012 年 1 月 11 日）： 宣布了原始升级包 AntiXSS 库 4.2 版已由 AntiXSS 库 4.2.1 版替代。AntiXSS 库的所有用户将需要升级到 AntiXSS 库 4.2.1 版以帮助确保他们免受本公告中所述的漏洞影响。有关详细信息，请参阅更新常见问题。  
-   V2.1（2012 年 1 月 16 日）： 已在“摘要”中的“已知问题”下为 Microsoft 知识库文章 2607664 添加一个链接。此外，还修订了更新常见问题中的条目以阐明 AntiXSS 库 4.2.1 版的升级只能从 Microsoft 下载中心获得的原因。
  
*Built at 2014-04-18T01:50:00Z-07:00*
